---
title: "Antibiotic Classes"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
Sys.setenv(TZ='GMT')
```

### Graphing the tree

Graphics based on [R Graph Gallery](https://www.r-graph-gallery.com/dendrogram.html)

My old notes hierachy:

- beta-lactams
    - penicillins
        - benzylpen
        - pen v
        - ampicillin
        - amoxicillin
        - meticillin
        - flucloxacillin
        - nafacillin
        - temocillin
        - ureidopenicillin
        - piperacillin
        - carboxypenicciln
        - co-amoxiclav
        - mecillinoms
    - cephalosporins
        - 1st gen
        - 2nd gen
        - 3rd gen
        - 4th gen
        - 5th gen
    - carbapenems
        - imipenem
        - meropenem
        - etapenem
        - doripenem
    - monobactams
        - azteronam
- aminoglyclosides
- macrolides
- gyloceptdes
- tetracyclines
- quinolones
- sulphonamides + trimethoprim
- nitromdazoles
- chloramphenicol
- fusidic acid
- oxozolidinone
- polymyxins
- other
    - clindamixin
    - streptogrammins
    - rifamycins
    - daptomycin
    - nitrofurans
    - methanamine
    
```{r, comment=FALSE, message=FALSE, warning=FALSE}
# Load library
# install.packages("collapsibleTree")
library(collapsibleTree) 
 
# # input data must be a nested data frame:
# head(warpbreaks)
#  
# # Represent this tree:
# p <- collapsibleTree( warpbreaks, c("wool", "tension", "breaks"))
# p

# save the widget
# library(htmlwidgets)
# saveWidget(p, file=paste0( getwd(), "/HtmlWidget/dendrogram_interactive.html"))

antibiotics <- read.csv2("antibiostree2.csv", sep=",", header=FALSE)
collapsibleTree(antibiotics, c("V1", "V2", "V3"))
```

[NHS Tayside Antbiotic Man]

[Antimicrobial prescribing guidelines](https://www.nice.org.uk/about/what-we-do/our-programmes/nice-guidance/antimicrobial-prescribing-guidelines)

[Antibacterials, principles of therapy](https://bnf.nice.org.uk/treatment-summary/antibacterials-principles-of-therapy.html)

[NHS Tayside Formulary:](http://www.taysideformulary.scot.nhs.uk)

[Formulary Abx](http://www.taysideformulary.scot.nhs.uk/chaptersSubDetails.asp?FormularySectionID=5&SubSectionRef=05.01&SubSectionID=A100)

[Formulary Abx Doses](https://www.nhstaysideadtc.scot.nhs.uk/Antibiotic%20site/drugdosages.htm)

[Tayside Infections](http://www.taysideformulary.scot.nhs.uk/chaptersSub.asp?FormularySectionID=5)

Each formulary section has an enclosed number (x, y). THe first denotes a drug, the second a link.

```{r, comment=FALSE, message=FALSE, warning=FALSE}
antibioticstay <- read.csv2("taysideformulary.csv", sep=",", header=FALSE)

#remove /xca random character, eugh
antibioticstay$V1 <- gsub("\xca", "", antibioticstay$V1)
antibioticstay$V2 <- gsub("\xca", "", antibioticstay$V2)
antibioticstay$V3 <- gsub("\xca", "", antibioticstay$V3)

collapsibleTree(antibioticstay, c("V1", "V2", "V3"))
```
